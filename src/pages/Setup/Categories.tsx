import { useEffect, useRef, useState } from "react";
import { Button, RouterButton } from "../../components/Button";
import FloatingFooter from "../../components/FloatingFooter";
import { TextInput } from "../../components/Forms";
import Header from "../../components/Header";
import MainLayout from "../../components/MainLayout";
import localforage from "localforage";

const categories = [
  "American",
  "Asian",
  "Bakery",
  "Barbecue",
  "Breakfast",
  "Burgers",
  "Cafe",
  "Chinese",
  "Coffee",
  "Deli",
  "Dessert",
  "Fast Food",
  "Ice Cream",
  "Italian",
  "Japanese",
  "Mexican",
  "Pizza",
  "Sandwiches",
  "Seafood",
  "Steak",
  "Sushi",
  "Thai",
  "Vegetarian",
  "Vietnamese",
  "Ramen",
];

const icons = {
  Burgers: (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
      <path d="M22.938,17.884A7.007,7.007,0,0,1,16,24H8a7,7,0,0,1-6.912-5.949c.089.022.172.055.264.071a8,8,0,0,1,3.894,1.844,4.17,4.17,0,0,0,5.508,0A8,8,0,0,1,16,18.006h6A3.971,3.971,0,0,0,22.938,17.884ZM0,14.1a2.067,2.067,0,0,0,1.69,2.05,10,10,0,0,1,4.866,2.306,2.189,2.189,0,0,0,2.888,0A10,10,0,0,1,16,16.006h6a2,2,0,0,0,0-4H2.094A2.094,2.094,0,0,0,0,14.1ZM23,10v.148a3.984,3.984,0,0,0-1-.142H2.094A4.033,4.033,0,0,0,1,10.174V10A10.011,10.011,0,0,1,11,0h2A10.011,10.011,0,0,1,23,10ZM7,7A1,1,0,0,0,5,7,1,1,0,0,0,7,7Zm3-3A1,1,0,0,0,8,4,1,1,0,0,0,10,4Z" />
    </svg>
  ),
  American: (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor">
      <path d="M160-120q-33 0-56.5-23.5T80-200v-80q0-17 11.5-28.5T120-320h720q17 0 28.5 11.5T880-280v80q0 33-23.5 56.5T800-120H160Zm320-300q-36 0-57 20t-77 20q-56 0-76-20t-56-20q-28 0-45.5 13.5T121-385q-16 5-28.5-6.5T80-420q0-17 11.5-29.5T119-470q17-9 37-19.5t58-10.5q56 0 76 20t56 20q36 0 57-20t77-20q56 0 77 20t57 20q36 0 56-20t76-20q36 0 57 10t38 19q16 8 27.5 21t11.5 30q0 17-12 28.5t-28 6.5q-29-8-45.5-21.5T750-420q-36 0-58 20t-78 20q-56 0-77-20t-57-20Zm0-420q74 0 145.5 13.5t128 42q56.5 28.5 91.5 74T880-600q0 17-11.5 28.5T840-560H120q-17 0-28.5-11.5T80-600q0-65 35-110.5t91.5-74q56.5-28.5 128-42T480-840Z" />
    </svg>
  ),
  Coffee: (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
      <path d="M24,5a3,3,0,0,0-2.3-2.91A3.5,3.5,0,0,0,18.5,0H5.5A3.5,3.5,0,0,0,2.3,2.09a3,3,0,0,0-.208,5.755L3.539,19.4A5.257,5.257,0,0,0,8.748,24h6.5a5.257,5.257,0,0,0,5.209-4.6L21.906,7.845A2.994,2.994,0,0,0,24,5Zm-5.762,8H14.816c-.9-3.959-4.733-3.957-5.632,0H5.762L5.137,8H18.863ZM5.5,3h13a.5.5,0,0,1,.5.5V5H5V3.5A.5.5,0,0,1,5.5,3Zm9.752,18h-6.5a2.255,2.255,0,0,1-2.233-1.972L6.137,16H9.184c.9,3.959,4.733,3.957,5.632,0h3.047l-.379,3.029A2.253,2.253,0,0,1,15.252,21Z" />
    </svg>
  ),
  Asian: (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="currentColor">
      <path d="M85.16 38.73 92.37 0h-6.11l-7.21 38.73H65.91L67.71 0h-6L59.9 38.73H0v2.93A48.5 48.5 0 0 0 20.67 81.2V100h58.66V81.2A48.47 48.47 0 0 0 100 41.66v-2.93Zm-11.83 55.4H26.67v-9.27a50.91 50.91 0 0 0 46.66 0Z"></path>
    </svg>
  ),
  Steak: (
    <svg id="uuid-d7c8c1de-cff6-4f9f-8654-98c6bc506c0f" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
      <path
        d="m18.87,0C8.47,0,0,8.46,0,18.87c0,9.17,3.85,14.61,7.07,17.56,3.38,3.09,6.14,7.3,8.21,12.52,2.72,6.88,8.96,15.05,23.28,15.05h.22c6.75-.04,13.07-2.73,17.79-7.58,4.86-4.99,7.57-11.93,7.42-19.02C63.29,3.64,32.2,0,18.87,0Zm30.64,49.56c-2.87,2.94-6.7,4.58-10.79,4.6h-.16c-7.16,0-11.79-2.88-14.13-8.83-2.62-6.63-6.22-12.07-10.72-16.17-2.6-2.38-3.87-5.74-3.87-10.29,0-4.98,4.05-9.03,9.03-9.03,28.68,0,35.01,15.1,35.27,27.76.09,4.54-1.55,8.78-4.63,11.95Z"
        stroke-width="0"
      />
      <path
        d="m36.92,26.26c-4.07,0-7.38,3.31-7.38,7.38s3.31,7.38,7.38,7.38,7.38-3.31,7.38-7.38-3.31-7.38-7.38-7.38Zm0,9.85c-1.36,0-2.46-1.11-2.46-2.46s1.1-2.46,2.46-2.46,2.46,1.11,2.46,2.46-1.1,2.46-2.46,2.46Z"
        stroke-width="0"
      />
    </svg>
  ),
  Sandwiches: (
    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 100 100">
      <path d="M18.566 0 0 18.567l1.242 65.28a14.911 14.911 0 0 0 14.847 14.91L81.432 100 100 81.433Zm-2.422 92.758a8.93 8.93 0 0 1-8.903-8.967l-1.1-59.083 69.15 69.15Zm65.288-1.243L8.484 18.567l2.92-2.92 72.948 72.948Zm-65.785-80.11 2.92-2.92 72.947 72.948-2.92 2.92Z"></path>
      <path d="m10.187 61.927 13.58-13.58 4.242 4.242-13.58 13.58zM33.597 85.339l13.581-13.58L51.421 76 37.84 89.581zM19.256 76.268l13.58-13.58 4.243 4.242-13.58 13.58z"></path>
    </svg>
  ),
  Pizza: (
    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 -960 960 960">
      <path d="M480-840q88 0 179 30t161 84q16 12 24 29t8 35q0 11-3.5 22.5T838-617L547-180q-12 18-30 27t-37 9q-19 0-37-9t-30-27L122-617q-7-11-10-22t-3-22q0-18 8-35t24-29q70-53 160.5-84T480-840ZM380-560q25 0 42.5-17.5T440-620q0-25-17.5-42.5T380-680q-25 0-42.5 17.5T320-620q0 25 17.5 42.5T380-560Zm100 200q25 0 42.5-17.5T540-420q0-25-17.5-42.5T480-480q-25 0-42.5 17.5T420-420q0 25 17.5 42.5T480-360Z" />
    </svg>
  ),
  Breakfast: (
    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 -960 960 960">
      <path d="M640-80q-67 0-101.5-22.5T480-150q-19-20-36.5-35T399-200q-45 0-100-15.5t-103.5-51Q147-302 114-359T80-499q-2-167 82.5-274T399-880q71 0 120 20.5t84.5 51.5q35.5 31 60 68.5T710-667q12 20 24 36.5t26 30.5q60 60 90 105t30 136q0 120-74.5 199.5T640-80ZM480-340q58 0 99-41t41-99q0-58-41-99t-99-41q-58 0-99 41t-41 99q0 58 41 99t99 41Z" />
    </svg>
  ),
  Seafood: (
    <svg id="uuid-66d2f0ef-0f4a-439b-9818-8c7829573b64" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59.14">
      <path
        d="m37.93,2.21C21.01,7.22,12.16,20.62,11.84,41.77l-10.97,2.51c-.47.16-.78.47-.86.86s.16.94.55,1.18c5.48,3.13,6.03,4.15,6.58,5.48.63,1.41,1.49,3.21,5.95,7.05.24.24.71.39,1.02.24.39-.08.63-.47.78-.78l2.51-10.97c13.47-.16,23.81-3.92,30.79-10.89,4-4,6.89-9.09,8.77-15.2-5.01.16-9.87-1.72-13.55-5.41-3.84-3.68-5.72-8.54-5.48-13.63Zm1.72,18.17l-1.49,1.49c2.12,1.96,4.54,3.45,6.89,4.23.63.16.94.78.78,1.41-.16.63-.78.94-1.41.78-2.66-.78-5.41-2.59-7.76-4.78l-3.06,3.06c1.49,1.33,3.21,2.43,4.86,2.98.63.16.94.78.78,1.41-.16.63-.78.94-1.41.78-2.04-.63-4.07-1.88-5.8-3.45l-3.06,3.06c.86.71,1.88,1.25,2.82,1.57.63.16.94.78.71,1.33-.16.63-.78.94-1.33.71-1.33-.39-2.59-1.18-3.76-2.19l-3.13,3.13c.24.08.47.31.71.39.63.16.94.78.71,1.33-.16.63-.78.94-1.33.71-.55-.24-1.1-.47-1.65-.86l-2.51,2.51c-.47.47-1.1.47-1.57,0s-.47-1.1,0-1.57l2.51-2.51c-.39-.55-.71-1.02-.86-1.65s.16-1.25.78-1.41,1.25.16,1.41.78c-.16.16,0,.47.16.63l3.06-3.06c-1.02-1.18-1.8-2.43-2.19-3.76-.16-.63.16-1.25.71-1.33.63-.16,1.25.16,1.33.71.31.94.86,1.96,1.57,2.82l3.06-3.06c-1.57-1.72-2.82-3.76-3.45-5.8-.16-.63.16-1.25.78-1.41s1.25.16,1.41.78c.55,1.65,1.57,3.29,2.98,4.86l3.06-3.06c-2.19-2.35-3.92-5.17-4.78-7.76-.16-.63.16-1.25.78-1.41.63-.16,1.25.16,1.41.78.78,2.35,2.27,4.78,4.23,6.89l1.49-1.49c.47-.47,1.1-.47,1.57,0s.39,1.02,0,1.41Z"
        stroke-width="0"
      />
      <path
        d="m57.59,4.32l-4.31,1.49,1.49-4.31c.16-.31.08-.71-.08-1.02s-.55-.55-.94-.47c-4.94.08-9.56.63-13.63,1.57-.39,4.62,1.25,9.24,4.7,12.69s7.99,5.01,12.61,4.78c1.02-4.15,1.57-8.62,1.57-13.63,0-.31-.24-.71-.47-.94s-.63-.31-.94-.16Zm-9.71,1.88c-.78,0-1.41-.63-1.41-1.41s.63-1.41,1.41-1.41c1.88,0,1.88,2.82,0,2.82Z"
        stroke-width="0"
      />
    </svg>
  ),
  Mexican: (
    <svg id="uuid-f930443f-9fde-4e17-bacd-e3377b3a11c3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 46.22">
      <path d="m7.11,0C3.18,0,0,3.18,0,7.11v32c0,3.93,3.18,7.11,7.11,7.11h12.44V0H7.11Z" fill="#006847" stroke-width="0" />
      <path d="m56.89,0h-12.44v46.22h12.44c3.93,0,7.11-3.18,7.11-7.11V7.11c0-3.93-3.18-7.11-7.11-7.11Z" fill="#ce1126" stroke-width="0" />
      <path d="m19.56,0h24.89v46.22h-24.89V0Z" fill="#eee" stroke-width="0" />
      <path
        d="m40.89,23.11c0,4.91-3.98,8.89-8.89,8.89s-8.89-3.98-8.89-8.89h-1.78c0,5.89,4.78,10.67,10.67,10.67s10.67-4.78,10.67-10.67h-1.78Z"
        fill="#a6d388"
        stroke-width="0"
      />
      <path
        d="m24.08,27.14c-.16-.32-.49-.5-.83-.48-.12,0-.25.04-.36.09-.44.22-.61.76-.39,1.2.16.31.34.62.53.92h0s0,.01,0,.01h0s.01.02.01.02h0s0,.01,0,.01h0s0,.01,0,.01h0s0,.01,0,.01h0s0,.01,0,.01h0s0,.01,0,.01h0s0,.01,0,.01h0s0,.01,0,.01h0s0,.01,0,.01h0s0,0,0,0h0s0,.01,0,.01h0s0,.01,0,.01v.02s.01,0,.01,0h0c.09.15.19.28.29.42.18.25.47.37.75.36.17,0,.34-.06.49-.18.39-.29.48-.85.18-1.24-.28-.4-.54-.82-.76-1.26Zm-.88-2.81c-.04-.28-.06-.56-.08-.85,0-.21,0-.42,0-.63.01-.49-.37-.9-.86-.91h-.06c-.46.02-.84.39-.85.86,0,.18,0,.37,0,.55v.16h0v.06h0s0,0,0,0h0s0,0,0,0v.05h0v.06s0,.02,0,.02v.02c.02.28.04.57.08.85.06.46.46.78.92.76.03,0,.06,0,.08,0,.5-.07.84-.52.77-1.01Zm9.41,7.64h-.01s-.22.02-.22.02c-.42.02-.85,0-1.26-.04-.04,0-.08,0-.13,0-.44.02-.8.36-.85.8-.05.49.31.92.79.97l.22.02h0s0,0,0,0h0s0,0,0,0h.01s.01,0,.01,0h0s0,0,0,0h.01s0,0,0,0h.02s0,0,0,0h.03s.02,0,.02,0c.27.02.54.03.82.02h.08s.01,0,.01,0h.04s.03,0,.03,0h.01s0,0,0,0h0s0,0,0,0h.01s0,0,0,0h0s.01,0,.01,0h.01s.01,0,.01,0h0s.01,0,.01,0h.02s.04,0,.04,0h0s0,0,0,0h0s0,0,0,0h.02s0,0,0,0c.07,0,.15,0,.23-.01.48-.04.84-.45.81-.94-.01-.48-.43-.86-.91-.84Zm-4.34-.8c-.45-.21-.88-.45-1.29-.73-.16-.11-.35-.16-.54-.15-.27.01-.53.14-.7.39-.28.4-.17.96.23,1.23h0s.01,0,.01,0h.01s.01.02.01.02h.01c.47.33.97.61,1.5.86.13.06.27.09.41.08.32-.01.63-.2.77-.51.21-.45.02-.98-.43-1.18Zm8.94-.71c-.15,0-.3.05-.44.14-.41.26-.86.5-1.3.69-.45.19-.67.71-.47,1.16.15.35.5.55.85.54.1,0,.21-.03.31-.07l.24-.11h.01s0,0,0,0h0s0,0,0,0h0s0,0,0,0h.01s0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s.01,0,.01,0h.01s.01-.01.01-.01h0s0,0,0,0h0s.01,0,.01,0h0s.01,0,.01,0h.01s0,0,0,0h0s0,0,0,0h.01s.01-.01.01-.01h.01s0,0,0,0h.01s0,0,0,0h.02s.01-.02.01-.02h.02s.01-.02.01-.02h.01s0,0,0,0h.02v-.02h.01s0,0,0,0l.04-.02h.01s.02-.02.02-.02h.01s0,0,0,0c0,0,0,0,.01,0,0,0,0,0,.01,0h.01s.01-.01.01-.01h0s.02-.01.02-.01h.01s0,0,0,0h0s0,0,0,0h.01s.01-.01.01-.01h.01s.01-.01.01-.01h0s.01,0,.01,0h0s.01,0,.01,0h0s0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s.01,0,.01,0c0,0,0,0,0,0h.01s0,0,0,0h0s0,0,0,0h.01s0,0,0,0c0,0,0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s0,0,0,0c0,0,0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s0,0,0,0h0s.01,0,.01,0t0,0h0s.01-.01.01-.01h0s.01,0,.01,0h0s.02-.01.02-.01h.01s.02-.02.04-.03h0c.11-.07.23-.14.34-.21.41-.27.54-.81.27-1.23-.2-.26-.51-.41-.81-.4Zm4.57-8.21h-.04c-.47.02-.85.41-.85.89,0,.49-.04.99-.13,1.47-.08.48.24.94.73,1.03.06.01.13.02.19.01.41-.02.77-.32.84-.74h0s0-.01,0-.01h0s0,0,0,0h0s0-.01,0-.01h0s0,0,0,0v-.02s0,0,0,0h0c.04-.24.07-.47.09-.71h0s0,0,0,0h0s0,0,0,0v-.02h0s0-.01,0-.01h0s0,0,0,0h0s0,0,0,0h0s0-.02,0-.02v-.03h0c.02-.3.04-.59.04-.89,0-.49-.39-.89-.89-.89Zm-.79,4.79c-.15-.08-.31-.12-.47-.11-.3.01-.58.18-.74.46-.24.43-.51.85-.82,1.23-.31.39-.24.94.14,1.25.18.14.39.2.59.19.25-.01.49-.12.66-.33.21-.26.4-.53.59-.81,0-.01.01-.02.02-.04h0s0-.01,0-.01h0s0-.01,0-.01c0,0,0,0,0-.01h0s0,0,0,0h0s0-.01,0-.01h0s0-.01,0-.01h0s0,0,0-.01h0s0-.01,0-.01h0s0-.01,0-.01h0s0-.01,0-.01h0s0-.01,0-.01h0s0-.01,0-.01c0,0,0,0,0,0h0s0-.01,0-.01c0,0,0,0,0,0h0s0-.01,0-.01h0s0-.01,0-.01h0s0-.01,0-.01h0s0-.01,0-.01c0,0,0,0,0,0,0,0,0,0,0,0h0s0-.01,0-.01h0s0-.01,0-.01c0,0,0,0,0,0,0,0,0,0,0,0h0s0-.01,0-.01h0s0-.02,0-.02h0s0-.01,0-.01h0s0-.01,0-.01h0s0,0,0-.01h0s0,0,0,0h0s0-.01,0-.01h0s0-.01,0-.01c0,0,0,0,0,0h0s0-.01,0-.01h0s0-.01,0-.01c0,0,0,0,0,0,0,0,0,0,0,0h0s0-.01,0-.01h0s0-.01,0-.01h0s0-.01,0-.01h0s0-.01,0-.01h0s0-.01,0-.01h0s0-.01,0-.01h0s0-.02,0-.02h0s0-.01,0-.01h0s0-.01,0-.01h0s0-.02,0-.02h0s.04-.09.04-.09c.23-.42.08-.96-.35-1.19h0Z"
        fill="#5c913b"
        stroke-width="0"
      />
      <ellipse cx="32" cy="28.44" rx="5.33" ry="1.78" fill="#55acee" stroke-width="0" />
      <ellipse cx="32.89" cy="28.44" rx="2.67" ry="1.78" fill="#ffcc4d" stroke-width="0" />
      <path
        d="m33.99,28.93c-.14,0-.29-.04-.42-.11-.43-.23-.59-.78-.36-1.21.28-.52.58-1,.89-1.41-.25.01-.5.02-.76.02-.49,0-.94-.4-.94-.89s.35-.89.84-.89h.15c.53,0,1.07-.03,1.55-.07.28-.03.55.08.73.28.02-.02.05-.04.08-.06.18-.12.34-.21.5-.29.1-.08.23-.14.38-.17h.06c.33-.12.57-.14.66-.14.28,0,.55.13.71.36.17.23.22.52.13.79-.15.47-.47.58-1.04.69-.11.04-.25.11-.42.23-.33.22-.77.18-1.06-.06.24.31.25.77,0,1.09-.3.39-.6.84-.88,1.37-.16.3-.47.46-.78.46Zm-2.52-2.82s-.08,0-.12,0c-.66-.09-1.3-.22-1.88-.39-.47-.14-.74-.63-.6-1.11v-.04s-.01.04-.01.04c-.24.43-.78.58-1.21.34-.6-.34-1.15-.74-1.61-1.21-.35-.35-.35-.91,0-1.26.35-.35.91-.35,1.26,0,.35.35.76.66,1.22.92.38.21.54.66.41,1.06.19-.38.63-.58,1.05-.46.49.15,1.03.26,1.6.33.49.06.83.51.77,1-.05.45-.44.77-.87.77Zm-4.36-4.16c-.76,0-1.74-.29-2.33-.99-.91-1.07-1.45-2.45-1.36-3.51.02-.28-.25-.51-.52-.58-.15-.04-.43-.07-.55.21-.1.22-.37.32-.59.22-.22-.1-.32-.37-.22-.59.28-.6.9-.87,1.59-.7.64.17,1.25.74,1.19,1.51-.06.82.4,1.97,1.16,2.86.4.47,1.09.66,1.56.68.38.02.58-.07.62-.1-.1-.24-1.42-.93-1.98-1.22-.48-.25-.62-.6-.66-.84-.12-.81.71-1.63,1.51-2.42.28-.28.55-.54.7-.74.17-.22.14-.36.11-.46-.12-.33-.65-.66-1.29-.8-.59-.13-.99-.42-1.19-.85-.26-.57-.12-1.32.42-2.28.12-.22.39-.29.6-.17.22.12.29.39.17.6-.51.91-.46,1.32-.38,1.49.07.16.26.28.57.35.75.17,1.66.61,1.93,1.36.16.43.08.89-.23,1.3-.18.25-.48.53-.78.84-.46.45-1.31,1.29-1.26,1.66.01.07.11.14.19.18,1.34.7,2.22,1.21,2.4,1.83.06.22.04.44-.07.64-.17.3-.53.49-1.04.53-.08,0-.16.01-.24.01Z"
        fill="#5c913b"
        stroke-width="0"
      />
      <ellipse cx="34.67" cy="23.11" rx=".89" ry="1.78" fill="#ffcc4d" stroke-width="0" />
      <path
        d="m30.74,21.67c0,.51-.61.93-1.37.93s-1.37-.41-1.37-.93.61-.93,1.37-.93,1.37.41,1.37.93Zm-2.11-8.23c.09.38-.4.82-1.1.98s-1.33,0-1.42-.38c-.09-.38.4-.82,1.1-.98.7-.16,1.34,0,1.43.39Z"
        fill="#ffcc4d"
        stroke-width="0"
      />
      <path
        d="m40.06,23.03c.16.12.43-1.3.39-1.74,0-.03-.05-.97.15-1.64.12-.23.13-1.93-.06-2.37.15-.01.33-.06.35-.24-.69.25-.85-1.45-1.51-2.43-.64-.98-1.44-1.56-2.28-2.15.06-.17.16-.32.29-.48-1.02.51-2.62-1.34-4.97-1.2-.53.05-.78.08-.91.41-.44.04-.89.14-.89.71,0,.14.13.39.41.39.38.11.7.02.96.56l.07.55s-.34-.44-.53-.51l.12-.24c-.18-.1-.49-.02-.49-.02,0,0-.68-.32-1.23-.23l-.11-.44c-.1.27-.31.26-.34.52-.06-.18-.14-.41-.2-.6-.19.26-.14.55-.21.82-.07.06-.23.07-.27-.11-.02-.22-.05-.24-.05-.49-.14.24-.31.36-.36.78l-.15-.46c0,.55-.46.87-.91,1.26-.13.23.02.23.03.35l.23.12.42-.03c.07.09.01.09.2.15.49.14,1.1-.45,1.58.47-.22.18-.44.62-.37.7.09,0-.18.12.18.01-.37.36-.63.84-.63.87-.04.1.15-.01.11.17h.09c-.85.91-.03,1.9-.12,2.43.14.23.16,0,.34-.03.15.65.58,1.05.84,1.57h-.55c.01.25.23.48.41.7l-.37.12c-.26.14-.44.28-.63.49-.12.3.59.37.94.42v.36c.53.05,1.15-.11,1.15-.14l.14-.1.3.17c.1,0,.26-.41.19-.72.2.23.38.61.58.84l.18-.02c.17.26.4.53.56.79l.19.07c.11-.04.2-.05.26-.26l.09.15.3-.2.21-.04.15.25c.09-.03.18-.23.18-.44.09.18.12.17.18.22l.14-.29.74.69.56.03c.2.14.74.22.84,0,.45.19.98-.02.95-.24.41.16,1.05.05,1.05.03.08,0,.27-.2.09-.34-1.36-.95-3.38-2.52-4.17-2.9,0-.28-.21-1.29-.44-1.57l.18-.31c.53.5.72.45,1.01.53.3.24.41.6.71.94l.27.05c-.19-.47-.42-.94-.98-1.55.29.15.78.54,1.1.82.21.36.28.64.47,1.09.14.09.29.42.27.15-.03-.52-.4-1.34-.4-1.4.58.46.57,1.17.75,1.61.15.22.22.52.29.45l-.17-1.34-.1-.49c.43.25.58,1.19.78,2.32,0,.18.07.38.06.49.09.11.2.43.2.24,0,0,0-1.84-.13-2.26-.03-.23.05-.59.05-.59.16.76.32,1.59.48,2.35v.56l.23.24c.04-.46.1-.92.14-1.38l-.18-1.64v-.47c0-.17.15-.14.25.05.02.4.02.72.04,1.12.07.46.12.79.15,1.38.02.47.04,1.61.14,1.59Z"
        fill="#c1694f"
        stroke-width="0"
      />
    </svg>
  ),
  Deli: (
    <svg id="uuid-8d584f70-9e7c-4448-9ce0-8be544225681" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 40.83">
      <path d="m62.03,23.6c-.97-.54-2.13-.64-3.17-.27-.86.3-1.58.89-2.05,1.7l-4.76-1.9c.01-.21.02-.41.02-.61-.01-2.26-.9-4.55-2.5-6.46l-7.18-8.59c-1.41-1.69-2.92-3.1-4.5-4.19-.72-.5-1.41-.9-2.06-1.26l-.04-.03s-.09-.05-.14-.07c-.24-.13-.48-.25-.71-.36-.08-.04-.16-.07-.24-.11-2.06-.95-3.55-1.2-3.96-1.25-.03,0-.05,0-.07,0,0,0-.01,0-.02,0,0,0-.04,0-.04,0,0,0,0,0,0,0-.09-.01-.18-.02-.27-.03-.33-.05-.67-.09-1-.12-.09,0-.18,0-.26,0-.33-.02-.65-.04-.98-.03-.08,0-.17.01-.25.01-5.61.14-10.28,3.57-13.33,9.9-1.56,3.23-2.24,6.77-1.98,10.23.2,2.58.85,4.62,1.69,6.24h2.68c-.99-1.49-1.83-3.56-2.05-6.41-.23-3.06.37-6.19,1.76-9.05,1.95-4.05,5.5-8.6,11.63-8.6.66,0,1.36.05,2.09.17.02,0,1.75.17,4.23,1.48,2.86,2.64,2.53,6.83,1.07,12.72-.99,3.94-3.07,7.35-5.66,9.7h6c.24,0,.48.05.7.14.13.02.26.03.39.06,2.05.42,4.14,1.59,5.89,3.31.54.53,1.02,1.09,1.45,1.67.81-.25,1.57-.53,2.24-.86,1.2-.6,2.14-1.29,2.88-2.01l5.09,2.03c-.11.84.07,1.71.51,2.44.53.88,1.39,1.51,2.41,1.75.29.07.58.1.87.1,1.28,0,2.53-.64,3.23-1.72.61-.94.79-2.04.5-3.08.93-.56,1.57-1.46,1.78-2.56.31-1.59-.47-3.25-1.9-4.04Z" />
      <path d="m23.65,20.27c.45,0,.91-.11,1.36-.33,1.08-.52,1.97-1.58,2.43-2.91.8-2.31.02-4.68-1.74-5.29-.89-.3-1.87-.13-2.77.5-.84.59-1.51,1.51-1.89,2.6-.8,2.31-.02,4.68,1.74,5.29.28.1.58.15.87.15Z" />
      <path d="m30.54,33.23c-.04-.16-.06-.31-.08-.47-.29-1.77.04-3.34.94-4.49.04-.05.08-.1.12-.14H10.76c-2.32,0-4.44,1.64-5.28,4.07l-.45,1.3-3.63-3.57c-.07-.07-.17-.1-.26-.08-.1.02-.18.08-.22.16C.35,31.16.03,32.65,0,34.17c-.03,1.52.24,3.01.76,4.2.04.09.12.15.21.17.14,0,.21-.02.27-.08l3.75-3.45.38,1.36c.28,1.01.74,1.87,1.35,2.57,1.07,1.21,2.5,1.87,4.03,1.87h25.42c-.77-.49-1.51-1.07-2.22-1.77-1.75-1.72-2.96-3.79-3.41-5.83Z" />
      <path d="m41.75,31.13c-1.05-1.04-2.24-1.82-3.45-2.33-.35-.15-.71-.26-1.06-.36-.17-.05-.34-.12-.51-.15-.19-.04-.37-.06-.55-.09-.23-.03-.45-.04-.67-.04-1.05,0-1.93.32-2.53.94-.82.83-1.08,2.16-.74,3.72,0,.02,0,.03,0,.04.38,1.72,1.42,3.49,2.94,4.97,1.7,1.67,3.74,2.67,5.51,2.89.31.04.61.05.9.04.32-.01.62-.05.9-.12.56-.14,1.07-.38,1.46-.78,1.6-1.63.93-5.03-1.38-7.83-.26-.31-.52-.62-.81-.91Zm-1.15,3.9s-.04.01-.06.01c-.47,0-.86-.38-.86-.85,0-.28.14-.52.35-.67.14-.11.31-.18.5-.18.47,0,.86.38.86.85s-.36.81-.8.84Zm-3.66-4.1c.11,0,.22.02.31.06.32.12.55.43.55.79,0,.14-.05.27-.11.39-.14.27-.42.46-.75.46-.47,0-.86-.38-.86-.85s.38-.85.86-.85Zm-.34,4.97c-.47,0-.86-.38-.86-.85s.38-.85.86-.85.86.38.86.85-.38.85-.86.85Zm3,2.38c-.47,0-.86-.38-.86-.85,0-.38.25-.69.59-.8.08-.03.17-.05.27-.05.47,0,.86.38.86.85,0,.36-.22.66-.54.79-.1.04-.21.06-.32.06Z" />
    </svg>
  ),
  Cafe: (
    <svg id="uuid-56d34df5-1ad9-4f89-bad8-6697348128bb" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 58.14 64.1">
      <path
        d="m50.36,28.81c-.03.72-.31,4.75-.36,5.22-.43,3.72-1.82,9.03-3.27,12.49-.69,1.65-1.87,3.24-2.43,4.97l-4.12,5.7c-9.98-.01-19.98-.05-29.96,0C2.67,48.55-1.62,36.64.58,25.17h49.61c.29.13.2,3.14.18,3.64Z"
        stroke-width="0"
      />
      <path
        d="m10.22,56.08c9.98-.05,19.98-.01,29.96,0,2.78,0,8.69-.59,10.67,1.21.42.39.8,1.03.97,1.58.73,2.33-.81,4.61-3.21,4.97-3.32.5-37.35.16-44.94,0-.31,0-3.74-.85-3.4-4.18.44-4.34,6.98-3.56,9.95-3.58Z"
        stroke-width="0"
      />
      <path
        d="m53.27,30.27c9.17,6.44,4.94,21.8-8.98,21.22.56-1.73,1.73-3.32,2.43-4.97,5.74-.36,9.54-6.94,5.09-11.46-.23-.23-1.98-1.68-1.82-1.03.05-.46.33-4.49.36-5.22,1.02.31,2.04.85,2.91,1.46Z"
        stroke-width="0"
      />
      <path
        d="m36.66,1.02c-3.39,4.93-1.35,5.7-.12,10.43.52,2.01.8,3.83-.12,5.82-.2.44-1.03,1.48-1.46,1.7-5.44.59-1.26-.33-.97-3.94.3-3.73-3.85-7.4-1.46-12.8C33.52,0,34.8-.07,37.08.05l.18.18c-.64.53-.58.75-.61.79Z"
        stroke-width="0"
      />
      <path
        d="m25.74,4.41c-.81,4.09,2.57,7.4,1.7,11.76-.01.07-.44,1.26-.49,1.33-.11.21-.88,1.13-1.09,1.21-.58.23-2.45.17-3.15,0,3.21-3.29,1.5-5.88.85-8.25-.62-2.24-1.79-4.51-.49-7.94C24.02.03,25.53-.12,27.99.05c-1.03,1.47-1.88,2.54-2.24,4.37Z"
        stroke-width="0"
      />
      <path
        d="m16.4,4.9c-.45,2.78.99,4.77,1.46,7.4.33,1.87.47,2.89-.24,4.73-.3.77-.68,1.51-1.46,1.94-.42-.03-2.8.08-2.91-.06,5.13-5.68-1.86-9.03.49-15.89C14.65.34,16.16-.2,18.83.23c-1.02,1.3-2.16,3.01-2.43,4.67Z"
        stroke-width="0"
      />
    </svg>
  ),
  Dessert: (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor">
      <path d="M160-80q-17 0-28.5-11.5T120-120v-160q0-33 23.5-56.5T200-360h560q33 0 56.5 23.5T840-280v160q0 17-11.5 28.5T800-80H160Zm40-360v-120q0-33 23.5-56.5T280-640h160v-58q-18-12-29-29t-11-41q0-15 6-29.5t18-26.5l42-42q2-2 14-6 2 0 14 6l42 42q12 12 18 26.5t6 29.5q0 24-11 41t-29 29v58h160q33 0 56.5 23.5T760-560v120H200Z" />
    </svg>
  ),
  Vegetarian: (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor">
      <path d="M21.96875 166.820312l31.816406 31.820313 23.539063-23.539063 15.910156 26.515626 69.597656-69.59375-26.515625-15.910157 23.535156-23.539062-31.816406-31.820313c-29.246094-29.242187-76.824218-29.242187-106.066406 0-29.242188 29.242188-29.242188 76.824219 0 106.066406zm21.210938-84.851562c17.546874-17.546875 46.09375-17.546875 63.640624 0l10.605469 10.605469-29.492187 29.492187 26.515625 15.910156-15.257813 15.257813-15.910156-26.515625-29.496094 29.496094-10.605468-10.609375c-17.542969-17.542969-17.542969-46.09375 0-63.636719zm0 0M220.539062 21.96875c-29.242187 29.242188-29.242187 76.820312 0 106.0625l10.609376 10.609375 106.066406-106.066406-10.609375-10.605469c-29.242188-29.246094-76.824219-29.246094-106.066407 0zm72.445313 12.40625l-60.035156 60.035156c-7.835938-16.371094-5.3125-37.113281 8.804687-51.230468 14.101563-14.101563 34.84375-16.648438 51.230469-8.804688zm0 0M120 0h30v30h-30zm0 0M150 180h30v30h-30zm0 0"></path>
      <path d="M481 225c0-36.664062-26.445312-67.265625-61.261719-73.738281-6.472656-34.816407-37.074219-61.261719-73.738281-61.261719s-67.265625 26.445312-73.738281 61.261719c-34.816407 6.472656-61.261719 37.074219-61.261719 73.738281 0 5.058594.515625 10.082031 1.515625 15h-212.515625v15c0 79.742188 45.386719 153.964844 115.621094 189.082031l4.378906 2.1875v65.730469h271v-65.730469l4.378906-2.1875c70.84375-35.421875 116.621094-109.640625 116.621094-189.082031v-15h-32.515625c1-4.917969 1.515625-9.941406 1.515625-15zm-195-45h15v-15c0-24.8125 20.1875-45 45-45s45 20.1875 45 45v15h15c24.8125 0 45 20.1875 45 45 0 5.136719-.890625 10.210938-2.578125 15h-57.421875l24-18-18-24-36 27v-60h-30v60l-36-27-18 24 24 18h-57.421875c-1.6875-4.789062-2.578125-9.863281-2.578125-15 0-24.8125 20.1875-45 45-45zm75 302h-211v-30h211zm11.460938-60h-233.921876c-3.765624-2.722656-61.417968-23.097656-92.378906-92.011719h419.421875c-31.175781 68.378907-89.257812 89.230469-93.121093 92.011719zm108.90625-152c-.863282 10.1875-2.605469 20.214844-5.140626 30h-440.550781c-2.492187-9.777344-4.207031-19.808594-5.054687-30zm0 0M421 75c0 24.8125 20.1875 45 45 45s45-20.1875 45-45-20.1875-45-45-45-45 20.1875-45 45zm45-15c8.269531 0 15 6.730469 15 15s-6.730469 15-15 15-15-6.730469-15-15 6.730469-15 15-15zm0 0"></path>
    </svg>
  ),
  Bakery: (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor">
      <path d="m835-252-99-34 78-215 85 175q14 27-12 55t-52 19Zm-251-38 43-374q2-15 13.5-20.5t27.5-.5l100 37q14 6 18.5 18t-.5 26L673-290h-89Zm-296 0L175-604q-5-14-.5-26.5T193-648l100-37q14-6 26.5-.5T334-664l42 374h-88Zm-172 38q-26 8-47-19.5T62-326l86-175 77 215-109 34Zm320-38-48-430q-2-17 9.5-28.5T426-760h108q17 0 28.5 11.5T572-720l-48 430h-88Z" />
    </svg>
  ),
  "Fast Food": (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor">
      <path d="M340-600q46 0 93.5 11.5t88 35.5q40.5 24 69.5 60t39 85q4 19-8 33.5T591-360H89q-19 0-31-14.5T50-408q10-49 39.5-85t70-60q40.5-24 87.5-35.5t93-11.5ZM80-200q-17 0-28.5-11.5T40-240q0-17 11.5-28.5T80-280h520q17 0 28.5 11.5T640-240q0 17-11.5 28.5T600-200H80Zm0 160q-17 0-28.5-11.5T40-80q0-17 11.5-28.5T80-120h520q17 0 28.5 11.5T640-80q0 17-11.5 28.5T600-40H80Zm640 0v-320q0-114-78-197T451-668l-6-47q-2-18 10-31.5t30-13.5h155v-120q0-17 11.5-28.5T680-920q17 0 28.5 11.5T720-880v120h156q18 0 30 13t10 31L852-76q-2 15-13 25.5T812-40h-92Z" />
    </svg>
  ),
  Chinese: (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 91 91" fill="currentColor">
      <path d="M90.679 3.328a2.168 2.168 0 0 0-2.314-2.049L26.007 5.063a2.184 2.184 0 0 0-2.049 2.313c.029.502.235.948.542 1.301a2.184 2.184 0 0 0 1.563 3.623l5.944.211c-2.082 3.461-1.661 8.023 1.283 11.031.011.012.026.02.036.032.013.013.021.027.034.042 1.823 1.828 1.838 4.783.05 6.614-.018.018-.04.03-.056.048-3.506 3.509-3.535 9.201-.088 12.743.016.021.036.032.053.047.017.018.027.038.043.056a4.716 4.716 0 0 1 .533 6.022H18.949l.93-1.415 3.637-5.537h2.907a2.186 2.186 0 1 0 0-4.37h-3.261l-8.521-7.491a2.187 2.187 0 0 0-2.705-.143L1.182 37.792a2.18 2.18 0 0 0-.918 1.63 2.179 2.179 0 0 0 .68 1.745l12.008 11.331 9.899 36.495h28.524c8.074 0 9.266-1.413 11.278-7.98l9.04-28.537 11.985-11.309a2.19 2.19 0 0 0-.242-3.375L72.681 30.19a2.182 2.182 0 0 0-2.703.143l-8.521 7.491h-4.396c-1.207 0-2.187.98-2.187 2.184 0 1.207.979 2.186 2.187 2.186h4.042l4.566 6.952H53.146c.957-3.114.211-6.646-2.246-9.111a.095.095 0 0 1-.021-.015c-.006-.005-.006-.008-.008-.013a4.672 4.672 0 0 1-1.368-3.314c0-1.232.478-2.39 1.338-3.276.021-.018.043-.03.064-.05 3.529-3.53 3.529-9.29-.006-12.839l-.04-.031c-.008-.008-.01-.019-.019-.026a4.717 4.717 0 0 1 .043-6.615c.198-.198.345-.424.453-.668l37.081 1.309.08.002c1.17 0 2.139-.93 2.182-2.109a2.185 2.185 0 0 0-2.107-2.262L41.811 8.481l46.817-2.842a2.182 2.182 0 0 0 2.051-2.311zM14.504 47.955 5.883 39.82l7.167-5.065 6.418 5.644-3.742 5.698-1.222 1.858zm50.678-7.582 6.39-5.619 7.165 5.065-8.591 8.11-4.964-7.556zm1.599 13.145-8.3 26.194c-1.504 4.91-1.504 4.91-7.107 4.91h-25.18l-8.438-31.104h49.025zM43.814 20.681c-.001-.002-.002-.008-.005-.011a2.267 2.267 0 0 0-.14-.153 4.72 4.72 0 0 1 0-6.661c.264-.264.437-.583.538-.919l1.953.07c-1.77 3.417-1.226 7.733 1.638 10.597.003.005.008.008.013.013 1.818 1.831 1.834 4.775.051 6.608-.021.019-.043.032-.063.053a9.012 9.012 0 0 0-2.661 6.417 9.015 9.015 0 0 0 2.666 6.422c.003.002.003.005.006.005a4.722 4.722 0 0 1 .531 6.024h-2.414a9.104 9.104 0 0 0-2.234-9.094c-.009-.008-.015-.021-.026-.03a4.664 4.664 0 0 1-1.379-3.326c0-1.238.48-2.4 1.346-3.287.017-.016.036-.026.051-.042 3.481-3.484 3.519-9.129.129-12.686zm-3.186 9.555c-.017.015-.035.026-.051.042a9.014 9.014 0 0 0-2.659 6.417c0 2.383.913 4.625 2.571 6.329.015.018.034.029.051.045.015.018.027.038.043.056a4.718 4.718 0 0 1 .532 6.022h-2.411a9.097 9.097 0 0 0-2.229-9.083c-.012-.013-.021-.028-.031-.041-1.82-1.817-1.828-4.767-.038-6.61.018-.015.039-.027.055-.045 3.531-3.53 3.529-9.29-.007-12.836-.001-.003-.002-.003-.004-.005a4.72 4.72 0 0 1-.005-6.668c.33-.331.53-.743.603-1.17l2.033.071c-1.915 3.43-1.446 7.844 1.425 10.778.013.015.028.025.043.037l.032.04c1.824 1.83 1.838 4.788.047 6.621z"></path>
    </svg>
  ),
  Barbecue: (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 2.6h-.4c-2.2 0-7.7.3-8.5 2.2-.1.2-.1.4-.1.5 0 .2 0 .4.1.5.4 2.7 2 5 4.3 6.3l-.6 1.3v.1l-1.2 3.7-1.5 3.3c-.2.5 0 1.1.5 1.3.1.2.3.2.4.2.4 0 .7-.2.9-.6l1.2-2.7c1.2.2 2.5.3 3.9.4v.9c0 .6.4 1 1 1s1-.4 1-1v-.9c1.1 0 2.2-.1 3.2-.2l.8 2.5c.1.4.5.7.9.7.1 0 .2 0 .3-.1.5-.2.8-.7.6-1.3l-1.1-3.2-1-4-.4-1.2c2.3-1.3 4-3.6 4.4-6.4.3-.2.3-.4.3-.6 0-.2 0-.4-.1-.5-.9-2.1-7-2.2-8.9-2.2zm-1 14.5c-1.1 0-2.2-.1-3.2-.2l.9-2.6.5-1.3c.6.2 1.2.3 1.8.4v3.7zm2 0v-3.7c.6-.1 1.1-.2 1.6-.3l.3 1 .7 2.9c-.8 0-1.7.1-2.6.1zm-1-5.7c-2.8 0-5.2-1.6-6.3-4 2.3.7 5.5.7 6.3.7s4 0 6.3-.7c-1.1 2.4-3.6 4-6.3 4zm0-5.3c-3.2 0-5.4-.4-6.5-.8.1 0 .2-.1.2-.1.1 0 .1 0 .2-.1.2 0 .4-.1.6-.1h.2c.2 0 .3-.1.5-.1.1 0 .2 0 .3-.1.2 0 .4-.1.5-.1h.4c.2 0 .4 0 .6-.1H14.8c.2 0 .4 0 .6.1h.4c.2 0 .4.1.6.1h.3c.2 0 .4.1.6.1h.2c.2 0 .4.1.6.1h.2c.1 0 .2.1.3.1-1.2.6-3.4 1-6.6 1z"></path>
    </svg>
  ),
  Sushi: (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor">
      <path d="M4.952 19.231c-.092.686-.216 2.075.078 3.252C5.381 23.886 6.246 25 8 25h16c1.754 0 2.619-1.114 2.97-2.517.294-1.177.17-2.566.078-3.252 1.65-.589 2.952-2.529 2.952-4.935 0-2.798-1.76-4.964-3.78-5.112a31.077 31.077 0 0 0-1.068-.422l-3.521 9.321c1.131.261 2.255.601 3.374 1.019a.967.967 0 0 0 .014.094s.322 1.556.011 2.801C24.9 22.515 24.647 23 24 23H8c-.647 0-.9-.485-1.03-1.003-.311-1.245.011-2.801.011-2.801.005-.029.01-.057.013-.086l.161-.058L11.534 7.39a25.908 25.908 0 0 0-5.768 1.796C3.754 9.339 2 11.503 2 14.296c0 2.406 1.302 4.346 2.952 4.935Zm8.833-12.145L9.572 18.304a26.292 26.292 0 0 1 3.752-.703L17.291 7.04a23.831 23.831 0 0 0-3.506.046Zm5.563.164-3.832 10.203a24.344 24.344 0 0 1 4.12.254l3.62-9.586a27.034 27.034 0 0 0-3.908-.871Z"></path>
    </svg>
  ),
  Japanese: (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="currentColor">
      <path
        fill-rule="evenodd"
        d="m39.07,32.64c-3.89,1.46-9.2,2.37-15.05,2.37-5.86,0-11.18-.9-15.07-2.35,1.61,2.52,5.8,7.34,15.06,7.34s13.47-4.84,15.07-7.36h0Zm-14.14-7.92c.51-.18,1.3-.44,1.99-.61.37-.09.7-.16.91-.13.3.05.54.29.8.47.37.24.75.44,1.17.53.41.08.89.08,1.4.04.54-.04,1.12-.12,1.63-.04.36.06.73.37,1.1.67.56.45,1.1.93,1.55,1.2.5.3,1.26.4,1.99.51.18.03.36.06.52.11.05.02.13.05.16.07.03.07.03.18.04.3.03.27.03.58.02.9-.03,1.03-.2,2.11-.2,2.11,0,.02,0,.04,0,.06-3.52,1.26-8.21,2.04-13.38,2.11-.13-.27-.28-.6-.41-.95-.08-.22-.15-.44-.2-.65-.01-.06-.03-.11-.04-.16.05-.05.16-.13.23-.18.22-.14.46-.28.68-.42.69-.45,1.11-1.03,1.11-1.66,0-.5-.35-1.17-.89-1.82-.27-.32-.58-.64-.83-.95-.12-.14-.24-.26-.29-.38.02-.06.1-.26.16-.37.1-.18.23-.36.33-.5.16-.05.32-.13.44-.26h0Zm-4.63-.7s.06-.02.09-.02c.21-.03.55.04.91.13.37.09.77.2,1.14.32-.07.12-.14.25-.2.38-.22.48-.3.97-.22,1.37.11.53.68,1.27,1.29,1.97.19.22.43.54.57.74-.18.12-.46.31-.64.43-.64.4-1.11.91-1.22,1.47-.07.37-.01.92.17,1.51.07.22.15.46.24.68-.95-.03-1.88-.08-2.78-.15.22-.32.38-.67.46-.99.12-.53.03-1.02-.21-1.37-.11-.16-.31-.36-.59-.55-.42-.28-1.08-.58-1.71-.76-.78-.22-1.54-.2-1.95,0-.24.12-.49.33-.72.63-.33.45-.63,1.15-.79,1.8-.04.15-.07.3-.09.44-1.38-.29-2.66-.64-3.82-1.04,0-.05,0-.09-.01-.14,0,0-.14-.87-.19-1.8.68.19,1.71.3,2.44.2.67-.09,1.15-.39,1.36-.7.12-.17.21-.39.25-.67.04-.33,0-.79-.11-1.27-.05-.18-.1-.37-.16-.55.2-.17.4-.34.61-.5.53.99,1.54,2.09,2.23,2.36.36.14.85.19,1.39.13.66-.08,1.38-.31,1.9-.61.59-.34.94-.8,1.04-1.18.09-.34.03-.91-.26-1.53-.11-.23-.25-.47-.41-.71h0Zm-3.77,6.99c.13.01.36.04.52.09.33.09.78.32,1.04.46-.03.06-.06.13-.1.18-.1.14-.21.28-.34.34-.27.13-.84.2-1.34.21-.08,0-.17,0-.25-.01.05-.27.14-.66.26-.91.05-.12.15-.27.21-.36h0Zm11.47-2.01c.55,0,1,.45,1,1s-.45,1-1,1-1-.45-1-1,.45-1,1-1h0Zm-23.95-2.57c.2-1.23,1.04-2.42,2.49-3.45,3.27-2.33,9.86-3.98,17.45-3.98h0c7.6,0,14.18,1.63,17.46,3.96,1.46,1.04,2.31,2.24,2.5,3.48-.11.49-.38.96-.77,1.42-.63.72-1.54,1.37-2.69,1.97-.12.06-.24.12-.36.18.05-.55.1-1.21.09-1.8-.01-.74-.15-1.37-.36-1.73-.33-.54-.94-.87-1.69-1.03-.35-.07-.73-.11-1.09-.17-.21-.03-.41-.06-.56-.15-.48-.29-1.07-.87-1.67-1.31-.56-.42-1.15-.73-1.68-.81-.57-.1-1.2-.06-1.8-.01-.42.03-.83.08-1.17.02-.32-.06-.56-.31-.84-.49-.37-.24-.77-.44-1.2-.51-.39-.07-1.01,0-1.7.15-.86.2-1.83.53-2.38.73-.56-.2-1.5-.52-2.33-.72-.68-.16-1.31-.22-1.7-.15-.4.07-.77.25-1.12.47-.2-.16-.4-.28-.57-.35-.36-.14-.85-.19-1.39-.13-.66.08-1.38.31-1.9.61-.33.19-.58.41-.76.64-.21.1-.43.22-.65.37-.31.21-.63.47-.94.72-.09-.07-.19-.13-.28-.17-.42-.2-1.17-.22-1.95,0-.63.18-1.29.48-1.71.76-.28.19-.48.39-.59.55-.24.35-.34.83-.21,1.37.03.12.07.25.12.38-.06.29-.09.63-.1.98-.01.63.04,1.35.1,1.92-.2-.09-.39-.19-.58-.29-1.15-.6-2.07-1.25-2.69-1.97-.41-.47-.68-.95-.78-1.46h0Zm29.95,1.57c.55,0,1,.45,1,1s-.45,1-1,1-1-.45-1-1,.45-1,1-1h0Zm-4-2c.55,0,1,.45,1,1s-.45,1-1,1-1-.45-1-1,.45-1,1-1h0Zm-19.91.52c.26-.14.65-.33.95-.41.16-.04.39-.07.52-.09.06.09.16.24.21.36.11.25.2.64.26.91-.08,0-.17.01-.25.01-.5,0-1.07-.07-1.34-.21-.08-.04-.15-.11-.22-.18-.01-.14-.06-.27-.13-.39h0Zm6.08-2.19c.16-.08.37-.18.54-.22.34-.09.7-.18.93-.1.25.1.54.46.8.82.18.25.37.63.48.86-.17.09-.42.21-.63.27-.34.1-.7.18-.93.1-.25-.1-.54-.46-.8-.82-.16-.22-.33-.55-.44-.79.02-.04.04-.08.05-.12h0Zm7.45-8.34h12.38c1.66,0,3-1.34,3-3,0-.8-.32-1.56-.88-2.12-.56-.56-1.33-.88-2.12-.88h-12.38s-.07-.07-.11-.1c-1.25-1.13-3.25-1.9-5.51-1.9s-4.27.77-5.51,1.9c-.95.87-1.49,1.95-1.49,3.1s.53,2.24,1.49,3.1c1.25,1.13,3.25,1.9,5.51,1.9s4.27-.77,5.51-1.9c.04-.03.07-.07.11-.1h0Z"
      ></path>
    </svg>
  ),
  Thai: (
    <svg id="uuid-fe1d945d-35e4-414e-ab3d-da09ff5e9c3e" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 46.22">
      <path d="m0,38.25v.86c0,3.93,3.18,7.11,7.11,7.11h49.78c3.93,0,7.11-3.18,7.11-7.11v-.86H0Z" fill="#a7122d" stroke-width="0" />
      <path d="m0,30.54h64v7.97H0v-7.97Z" fill="#eee" stroke-width="0" />
      <path d="m0,15.13h64v15.68H0v-15.68Z" fill="#292648" stroke-width="0" />
      <path d="m0,7.43h64v7.97H0v-7.97Z" fill="#eee" stroke-width="0" />
      <path d="m0,7.7v-.59C0,3.18,3.18,0,7.11,0h49.78c3.93,0,7.11,3.18,7.11,7.11v.59H0Z" fill="#a7122d" stroke-width="0" />
    </svg>
  ),
  "Ice Cream": (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor">
      <path d="M120-560q0-51 29.5-92t74.5-58q18-91 89.5-150.5T480-920q95 0 166.5 59.5T736-710q45 17 74.5 58t29.5 92q0 75-53 119t-119 41L517-108q-5 11-14.5 16T482-87q-11 0-21-5t-15-16L294-400q-71 3-122.5-41T120-560Zm362 346 108-210q-24 12-52 18t-58 6q-27 0-54.5-6T372-424l110 210Z" />
    </svg>
  ),
  Vietnamese: (
    <svg id="uuid-5376cd5b-ab7f-45db-9a6f-35480c73478a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 46.22">
      <path
        d="m56.89,0H7.11C3.18,0,0,3.18,0,7.11v32c0,3.93,3.18,7.11,7.11,7.11h49.78c3.93,0,7.11-3.18,7.11-7.11V7.11c0-3.93-3.18-7.11-7.11-7.11Z"
        fill="#da251d"
        stroke-width="0"
      />
      <path d="m35.12,19.62l-3.12-9.59-3.12,9.59h-10.08l8.16,5.93-3.12,9.59,8.16-5.93,8.16,5.93-3.12-9.59,8.16-5.93h-10.08Z" fill="#ff0" stroke-width="0" />
    </svg>
  ),
  Italian: (
    <svg viewBox="0 0 63.94 41.39" fill="currentColor">
      <path d="m56.56,17.45c-.28-3.89-4.04-6.74-7.61-4.55-.73-3.57-4.13-5.72-7.1-7.38-.35-1.45-.71-3.48-2.18-4.22C38.38.66,33.54-.09,31.97,0c-.2.01-1,.27-1.3.37-2.46.19-5.04-2-7.1,4.5-3.65,1.66-7.36,3.68-8.49,7.84-3.85-1.75-7.17.74-7.61,4.73-1.38.11-5.67-.14-6.31,0-2.02.46-1.69,6.58,3.15,6.22,4.58,6.79,11.4,11.19,19.3,13.18.31,1.38-.69,4.09,1.3,4.45.69.13,13.41.13,14.1,0,2.08-.38.86-3.15,1.39-4.55,7.64-1.77,14.6-6.38,19.02-12.9,2.26.02,4.41-1.6,4.5-3.94.15-3.87-4.14-2.04-7.38-2.46Zm-10.67-5.29c.1-.13,1.68-.6,1.16,1.62-.45,1.92-2.96,3.91-4.92,4.04-2.81.18-4.93-1.86-7.05-3.39,1.83.78,4.31,2.12,6.31,2.09,4.19-.08,4.29-4.09,4.5-4.36Zm-12.15.93c-2.53.14-3.33,2.42-3.85.97-.46-1.28,2.58-2.28,3.57-2.37,2.14-.18,8.05,1.55,8.21,2.09.62,2.07-5.47-.83-7.93-.7Zm8.44-4.73c.82-.17.61.37.09.56-1.15.43-.52-.47-.09-.56Zm1.39,1.11c.57-.04,1.68.94-.19,1.76-2.58,1.14-5.74-.02-7.93-1.48-.99-.66-3.27-2.7-3.25-2.92,0-.04.43-.35.6-.32.15.03,1.55,1.5,2.27,1.95.28.17,2.05,1,2.37,1.11,4.4,1.56,5.81-.07,6.12-.09Zm-10.67-7.98q2.92.88,5.85,1.76c.53.43,1.17,3.84,1.16,4.69-.28.4-3.55-1.07-4.78-2.18-1.69-1.53-.3-.97-.7-2.18-.07-.23-1.32-1.62-1.67-1.95l.14-.14Zm-5.57.65c2.03.3,4.06.41,5.71,1.81-2.31,1.57-4.81,2.81-7.56,3.39-.25-1.9.77-3.7,1.86-5.2Zm-4.08,4.36c-.05,1.31.36,2.7,1.67,3.25.63.27,2.19.69,1.21-.28,1.64,0,4.37-1.74,4.73-1.67q1.18,1.23,2.37,2.46-.86.16-1.72.32c-1.75-2.4-1.22-.56-3.8-.37-.36.92-2.48.37-3.34-.28-1.03-.78-1.55-2.2-1.11-3.43Zm2.23,9c-.13-.09-.76-.25-1.11-.56-1.49-1.28.14-.17.46,0,1.49.78,2.62.81,3.9-.37.13.05.2,1.21.14,1.35-.04.09-1.71.78-1.81.79-.55.04-5.76-2.46-5.66-3.71.48.63,1.45,1.36,2.13,1.76.96.56,2.53,1.12,1.95.74Zm-9.88,3.57c-1.18-1.63-1.21-3.84-3.39-3.39-2.03.42-2.26,5.5,3.11,6.08-2.24.06-4.56.32-5.47-2.23-.95-2.65.55-4.98,2.37-5.24,4.3-.61,3.28,5.23,8.4,7.38-1.99.54-3.92-1.09-5.01-2.6Zm-1.72.51c-.95-.3-1.99-1.58-1.11-2.41.18-.02-.36.92,1.11,2.41Zm10.48,2.23c-3.44-1.81-8.04-5.12-7.61-9.46.81,5.81,3.97,6.46,7.42,8.35,1.23.67,2.75,1.39.19,1.11Zm4.18,0c-.45.4-2.11-1.34-3.43-2.13-2.2-1.32-5.1-2.05-6.36-4.59-1.82-3.71.71-6.27,2.37-6.36.14,0,.4-.03.51.05.78,2.97,3.98,3.76,6.68,3.25-.62.47.19.78.19.93-.04.88-6.1,1.53-7.65-2.64-2.32,1.55-1.01,4.33.74,5.75.94.76,5.6,2.8,5.8,3.67.12.53-1.13,1.55.23.42.3.33,1.44,1.22.93,1.67Zm2.51-2.23c-1.34-1.17-3.57-2.46-1.76-2.78,1.32-.24,4.41,3.68,5.34,4.69-1.75.69-2.17-.68-3.57-1.9Zm6.22,1.86c-.35-.17-5.21-5.32-5.15-5.71.02-.12.75-.59.88-.6.08,0,.21-.02.28,0,.44.11,4.95,5.89,6.26,6.45-.06.1-1.74.12-2.27-.14Zm.97-2.92c2.27,1.07,5.13,1.15,7.19-.42-1.01,1.3-2.47,2.06-3.8,2.97q-1.69-1.28-3.39-2.55Zm13.87,3.2l-2.83.05c5.28-1.4,4.58-6.31,1.9-6.17-2.04.11-1.57,4.18-4.08,5.66-.8.47-1.81.36-2.69.37,4.65-2.4,3.22-6.93,6.4-7.33,4.01-.51,5.44,5.52,1.3,7.42Zm-1.07-3.29q.16-.67.32-1.35c1.06,1.38-2.29,3.89-.32,1.35Z" />
    </svg>
  ),
  Ramen: (
    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32">
      <g>
        <path d="M29.456 6.44c-.709-.636-1.809-.534-2.39.221l-3.332 4.336c.769.338 1.475.797 2.085 1.362l3.676-3.52C30.183 8.18 30.165 7.076 29.456 6.44zM20.769 10.369c.44 0 .87.044 1.291.119l2.232-4.234c.444-.843.077-1.885-.796-2.264-.874-.379-1.885.066-2.197.966L19.378 10.5C19.833 10.414 20.298 10.369 20.769 10.369zM20.768 12.868c2.573 0 4.668 1.981 4.902 4.493h1.673c-.235-3.431-3.085-6.143-6.575-6.143-1.72 0-3.28.663-4.455 1.741.363.421.682.88.945 1.375C18.156 13.43 19.397 12.868 20.768 12.868z"></path>
        <path
          d="M18.368,17.361c0.214-1.132,1.207-1.993,2.4-1.993c1.194,0,2.187,0.86,2.401,1.993h1.651
		c-0.229-2.044-1.948-3.643-4.051-3.643c-1.259,0-2.373,0.583-3.125,1.48c0.257,0.68,0.415,1.407,0.463,2.163H18.368z"
        ></path>
        <path d="M22.291 17.361c-.197-.658-.801-1.142-1.523-1.142-.721 0-1.325.484-1.522 1.142H22.291zM12.202 17.361c-.197-.658-.801-1.142-1.523-1.142-.721 0-1.325.484-1.522 1.142H12.202z"></path>
        <path
          d="M8.279,17.361c0.214-1.132,1.207-1.993,2.4-1.993c1.194,0,2.187,0.86,2.401,1.993h1.651
		c-0.229-2.044-1.948-3.643-4.051-3.643c-2.103,0-3.822,1.6-4.051,3.643H8.279z"
        ></path>
        <path d="M5.778 17.361c.233-2.513 2.329-4.493 4.901-4.493 2.573 0 4.668 1.981 4.901 4.493h1.674c-.235-3.431-3.085-6.143-6.575-6.143s-6.34 2.712-6.575 6.143H5.778zM29.427 19.439c-.639 3.114-2.974 5.695-6.032 7.742-.96.642-2.1.965-3.255.965h-8.832c-1.155 0-2.295-.323-3.255-.965-3.058-2.047-5.393-4.628-6.032-7.742-.13-.634.367-1.228 1.014-1.228 4.531 0 20.845 0 25.377 0C29.059 18.211 29.557 18.805 29.427 19.439z"></path>
      </g>
    </svg>
  ),
};

export default function CategoriesPage() {
  const inputRef = useRef<HTMLInputElement>();
  const [filteredCategories, setFilteredCategories] = useState<string[]>(categories);
  const [selectedCategories, setSelectedCategories] = useState<string[]>([]);
  const isSetupDone = localStorage.getItem("setup-done") == "true";

  useEffect(() => {
    localforage.getItem("preference-categories").then((value) => setSelectedCategories((value as string[]) || []));
  }, []);

  const onChangeCallback = () => {
    if (!inputRef.current) return;

    const value = inputRef.current.value;

    setFilteredCategories(() => {
      return [
        ...categories.filter((category: string) => {
          return category.toLowerCase().includes(value.toLowerCase());
        }),
        ...categories.filter((category: string) => {
          return !category.toLowerCase().includes(value.toLowerCase());
        }),
      ];
    });
  };

  async function handleClick(category: string) {
    try {
      setSelectedCategories((currentlySelected) => {
        let newSelected = [];

        if (currentlySelected.includes(category)) {
          newSelected = currentlySelected.filter((c) => c !== category);
        } else {
          newSelected = [...currentlySelected, category];
        }

        localforage.setItem("preference-categories", newSelected);
        return newSelected;
      });
    } catch (error) {
      console.error("couldn't save setting", error);
    }
  }

  return (
    <>
      <Header>
        <h1>Food Preferences</h1>
      </Header>
      <MainLayout>
        <p>Choose some categories to get started!</p>
        <TextInput onChange={onChangeCallback} inputRef={inputRef} placeholder="Search..." />

        {filteredCategories.map((category) => (
          <Button
            key={category}
            icon={icons[category as keyof typeof icons]}
            onClick={() => handleClick(category)}
            variant={selectedCategories.includes(category) ? "active" : undefined}
          >
            {category}
          </Button>
        ))}
      </MainLayout>
      <FloatingFooter>
        {!isSetupDone && (
          <RouterButton to="/preferences/transport" nospacing>
            Next
          </RouterButton>
        )}
        {isSetupDone && (
          <RouterButton to="/preferences" variant="outlined" nospacing>
            Back
          </RouterButton>
        )}
      </FloatingFooter>
    </>
  );
}
